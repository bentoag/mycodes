<!DOCTYPE html>
<html lang="en">
<head>
	<meta charset="UTF-8">
	<meta name="viewport" content="width=device-width, initial-scale=1.0">
	<script src="https://code.jquery.com/jquery-3.4.1.js"></script>
	<style>
		#area_imagens {
			width: 300px;
			height: 200px;
			border: 1px solid black;
			overflow: hidden;
		}
		img {
			width: 100%;
			height: 100%;
			display: none;
		}
		img:first-child {
			display: block;
		}
	</style>

	<title>Desafio jQuery</title>
</head>
<body>

	<div id="area_imagens">
		<img src="img/carro1.png" class="ativa" id="img1"> 
		<img src="img/carro2.png" id="img2">
		<img src="img/carro3.jpg" id="img3">
	</div>
	
	<button id="anterior">&laquo;</button>
	<button id="proximo">&raquo;</button>

	<script>     
		$(document).ready(function(){ 
            var indice = 0;	  
            $("#proximo").click(function(){	               	
                var elementoAtual = $('.ativa').eq(0);
                var proximoElemento = elementoAtual.next('img');
                elementoAtual.removeClass('ativa').fadeOut(500);

                //verifica se existe uma proxima img
                //indice <2 gambiarra pra resetar pq tenho 3 elementos
                if(proximoElemento.eq(indice).next('img') && indice < 2){
                    proximoElemento.addClass('ativa').fadeIn(500); 
                    indice++;
                    console.log(indice);                   
                }else{
                    $('img').first().addClass('ativa').fadeIn(500);
                    indice = 0;
                    console.log(indice);  
                }                
			});	
      
            $("#anterior").click(function(){
              
                var elementoAtual = $('.ativa').eq(0); //primeiro elemento indice 0
                var antecessor = elementoAtual.prev('img');
                elementoAtual.removeClass('ativa').fadeOut(500);

               //indice = 2; //intencao de pegar o indice do ultimo elemento (0 1 2 -> 3 imagens)
                //verifica se existe uma img antes
                console.log(indice);

                //como o primeiro indice Ã© 0 --> vai pro else e recebe o indice do ultimo elemento depois decrementa
                if(antecessor.eq(indice).prev('img') && indice > 0){
                    antecessor.addClass('ativa').fadeIn(500); 
                    indice--;  
                    //console.log(indice);                  
                }else{
                    $('img').last().addClass('ativa').fadeIn(500);
                    indice = 2; //indice do ultimo elemento
                }                
			});
					
		});		
	</script>
</body>
</html>